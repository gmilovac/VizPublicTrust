<!-- .agency-list-intro {
      background: #f8fafc;
      border-radius: 12px;
      padding: 24px;
      margin: 30px auto;
      border: 1px solid #e2e8f0;
      max-width: 900px;
    }
    .agency-list-intro h3 {
      margin: 0 0 16px;
      color: #1e293b;
      font-size: 18px;
      font-weight: 600;
    }
    .agency-list-intro p {
      margin: 0 0 16px;
      color: #64748b;
      font-size: 14px;
    }
    .agency-grid-intro {
      columns: 2;
      column-gap: 24px;
      font-size: 13px;
      color: #64748b;
    } -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Agency Trust Visualizations</title>
  <style>
    * {box-sizing: border-box;}
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      margin: 0;
      padding: 0;
      background: #f8fafc;
      color: #1a202c;
      line-height: 1.6;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .hero {
      background: white;
      border-radius: 16px;
      padding: 60px 40px;
      margin: 40px 0;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    .hero h1 {
      font-size: 48px;
      margin: 0 0 20px;
      color: #1e293b;
    }
    .hero p {
      font-size: 20px;
      color: #64748b;
      max-width: 900px;
      margin: 0 auto 30px;
      line-height: 1.8;
    }
    .intro-text {
      font-size: 18px;
      color: #475569;
      max-width: 900px;
      margin: 0 auto 30px;
      line-height: 1.7;
      text-align: left;
      background: #f8fafc;
      padding: 24px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
    }
    .intro-text strong {
      color: #1e293b;
    }
    .intro-text a {
      color: #3b82f6;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }
    .intro-text a:hover {
      color: #2563eb;
      text-decoration: underline;
    }
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
      margin-top: 30px;
      text-align: left;
    }
    .metric-card {
      background: #f8fafc;
      padding: 16px 20px;
      border-radius: 10px;
      border: 1px solid #e2e8f0;
    }
    .metric-card h3 {
      margin: 0 0 6px;
      color: #1e293b;
      font-size: 16px;
      font-weight: 600;
    }
    .metric-card p {
      margin: 0;
      color: #64748b;
      font-size: 14px;
      line-height: 1.4;
    }
    .section {
      background: white;
      border-radius: 16px;
      padding: 40px;
      margin: 30px 0;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .section-title {
      font-size: 32px;
      margin: 0 0 12px;
      color: #1e293b;
      font-weight: 600;
    }
    .section-description {
      font-size: 16px;
      color: #64748b;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    .img-container {
      background: #f8fafc;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      border: 1px solid #e2e8f0;
    }
    .img-container img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      display: block;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 24px;
      margin-top: 30px;
    }
    .gallery-item {
      background: #f8fafc;
      border-radius: 12px;
      padding: 16px;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .gallery-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      border-color: #3b82f6;
    }
    .gallery-item img {
      width: 100%;
      height: 220px;
      object-fit: contain;
      border-radius: 8px;
      background: white;
    }
    .agency-name {
      text-align: center;
      margin-top: 12px;
      font-weight: 600;
      color: #1e293b;
      font-size: 14px;
    }
    .info-box {
      background: #eff6ff;
      border-left: 4px solid #3b82f6;
      border-radius: 8px;
      padding: 20px;
      margin: 24px 0;
      color: #1e40af;
    }
    .info-box h4 {
      margin: 0 0 12px;
      color: #1e40af;
      font-size: 18px;
    }
    .info-box p {
      margin: 8px 0;
      line-height: 1.6;
    }
    .agency-list {
      background: #f8fafc;
      border-radius: 12px;
      padding: 24px;
      margin-top: 30px;
      border: 1px solid #e2e8f0;
    }
    .agency-list h3 {
      margin: 0 0 16px;
      color: #1e293b;
      font-size: 18px;
      font-weight: 600;
    }
    .agency-list p {
      margin: 0 0 16px;
      color: #64748b;
      font-size: 14px;
    }
    .agency-grid {
      columns: 2;
      column-gap: 24px;
      font-size: 13px;
      color: #64748b;
    }
    .agency-item {
      padding: 4px 0;
      break-inside: avoid;
      line-height: 1.6;
    }
    .agency-short {
      font-weight: 700;
      color: #1e293b;
      font-size: 13px;
    }
    .error-msg {
      background: #fee;
      border: 1px solid #fcc;
      border-radius: 8px;
      padding: 15px;
      color: #b91c1c;
      margin: 20px 0;
      text-align: center;
    }
    @media (max-width: 768px) {
      .hero {padding: 40px 20px;}
      .hero h1 {font-size: 36px;}
      .section {padding: 25px;}
      .gallery {grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 16px;}
      .metrics-grid {grid-template-columns: 1fr;}
      .agency-grid {columns: 1;}
      .agency-grid-intro {columns: 1;}
      .intro-text {font-size: 16px; padding: 20px;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <h1>Agency Trust Visualizations</h1>
      <p>Understanding How Americans View Federal Agencies</p>
      
      <div class="intro-text">
        <strong>What is this page about?</strong><br>
        This page shows research on how Americans feel about 27 different federal government agencies. We asked people questions to measure their trust in these agencies. Below, you'll see charts that visualize the results.
        <br><br>
        <strong>What will you see?</strong><br>
        ‚Ä¢ <a href="#trends">A chart showing trust trends over time</a><br>
        ‚Ä¢ <a href="#scatter">A scatter plot comparing agencies on two key dimensions</a><br>
        ‚Ä¢ <a href="#profiles">Individual profiles for each agency showing their scores on all dimensions</a>
        <br><br>
        <strong>What do we measure?</strong><br>
        We measure trust using seven dimensions. Here's what each one means:
      </div>
      
      <div class="metrics-grid">
        <div class="metric-card">
          <h3>Ethical</h3>
          <p>Does the right thing morally</p>
        </div>
        <div class="metric-card">
          <h3>Reliable</h3>
          <p>Can be counted on consistently</p>
        </div>
        <div class="metric-card">
          <h3>Sincere</h3>
          <p>Genuinely means what they say</p>
        </div>
        <div class="metric-card">
          <h3>Competent</h3>
          <p>Has the skills to do the job well</p>
        </div>
        <div class="metric-card">
          <h3>Benevolent</h3>
          <p>Genuinely cares about helping people</p>
        </div>
        <div class="metric-card">
          <h3>Warmth</h3>
          <p>Feels friendly and approachable</p>
        </div>
        <div class="metric-card">
          <h3>Dominance</h3>
          <p>Has power and influence</p>
        </div>
      </div>

      <div class="agency-list-intro">
        <h3>The 27 Federal Agencies We Studied</h3>
        <p>Here are all the agencies included in this research:</p>
        <div class="agency-grid-intro" id="agencyNamesIntro">
          <!-- Agency names populated by JavaScript -->
        </div>
      </div>
    </div>

    <div class="section" id="trends">
      <h2 class="section-title">Trust Trends Over Time</h2>
      <p class="section-description">See how trust levels have changed for different agencies. Rising lines show increasing trust, falling lines show decreasing trust.</p>
      <div class="img-container">
        <img src="data/2d_trend_chart.png" alt="Agency Trust Trends Chart" onerror="handleImageError(this, 'Trend Chart')">
      </div>
    </div>

    <div class="section" id="scatter">
      <h2 class="section-title">Warmth vs Dominance</h2>
      <p class="section-description">See where each agency falls on two key dimensions:</p>
      <div class="info-box">
        <p><strong>üîµ Top Right:</strong> Warm and powerful (caring + influential)</p>
        <p><strong>üü¢ Top Left:</strong> Warm but less powerful (friendly but limited influence)</p>
        <p><strong>üî¥ Bottom Right:</strong> Cold but powerful (strong but impersonal)</p>
        <p><strong>üü° Bottom Left:</strong> Cold and less powerful (distant + limited influence)</p>
      </div>
      <div class="img-container">
        <img src="data/2d_scatter_plot.png" alt="Warmth vs Dominance Scatter Plot" onerror="handleImageError(this, 'Scatter Plot')">
      </div>
    </div>

    <div class="section" id="profiles">
      <h2 class="section-title">Individual Agency Profiles</h2>
      <p class="section-description">Each radar chart shows one agency's scores across all trust dimensions.</p>
      
      <div class="info-box">
        <h4>üí° How to Read These Charts:</h4>
        <p>‚Ä¢ Each corner represents one trust dimension</p>
        <p>‚Ä¢ Further from center = higher score on that dimension</p>
        <p>‚Ä¢ Larger colored area = stronger overall trust profile</p>
        <p>‚Ä¢ Click any chart to see it larger</p>
      </div>

      <div id="gallery" class="gallery">
        <!-- Gallery populated by JavaScript -->
      </div>

      <div class="agency-list">
        <h3>Agency Abbreviations</h3>
        <p>Here's what the short names stand for:</p>
        <div class="agency-grid" id="agencyNames">
          <!-- Agency names populated by JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // Agency data with full names
    const agencyData = {
      'Amtrak': 'Amtrak',
      'BPR': 'Bureau of Prisons (BPR)',
      'CBP': 'Customs & Border Protection (CBP)',
      'CDC': 'Center for Disease Control (CDC)',
      'Census': 'Census Bureau',
      'CISA': 'Cybersecurity and Infrastructure Security Agency (CISA)',
      'Ded': 'Department of Education',
      'DOD': 'Department of Defense (DoD)',
      'DOJ': 'Department of Justice (DOJ)',
      'EPA': 'Environmental Protection Agency (EPA)',
      'FAA': 'Federal Aviation Administration (FAA)',
      'FairHousing': 'Office of Fair Housing and Equal Opportunity',
      'FBI': 'Federal Bureau of Investigation (FBI)',
      'FDA': 'Food & Drug Administration (FDA)',
      'FEMA': 'Federal Emergency Management Agency (FEMA)',
      'IRS': 'Internal Revenue Services (IRS)',
      'LaborDept': 'Labor Department',
      'Lib': 'Library of Congress',
      'Mus': 'Smithsonian Museums',
      'NASA': 'National Aeronautics & Space Administration (NASA)',
      'NEA': 'National Endowment for the Arts (NEA)',
      'NSF': 'National Science Foundation (NSF)',
      'SocSecurity': 'Social Security Administration',
      'Treas': 'Treasury',
      'TSA': 'Transportation Security Administration (TSA)',
      'USPS': 'U.S. Postal Service (USPS)',
      'Zoo': 'National Zoo'
    };

    const gallery = document.getElementById('gallery');
    const agencyNamesDiv = document.getElementById('agencyNames');
    const agencyNamesIntroDiv = document.getElementById('agencyNamesIntro');
    const radialFolder = 'data/2d_Radial_graphs';

    // Populate intro agency list (with abbreviations)
    Object.keys(agencyData).forEach(shortName => {
      const nameItem = document.createElement('div');
      nameItem.className = 'agency-item';
      nameItem.innerHTML = `<span class="agency-short">${shortName}</span> ‚Äî ${agencyData[shortName]}`;
      agencyNamesIntroDiv.appendChild(nameItem);
    });

    // Create gallery items
    Object.keys(agencyData).forEach(shortName => {
      const item = document.createElement('div');
      item.className = 'gallery-item';
      
      const img = document.createElement('img');
      img.src = `${radialFolder}/${shortName}.png`;
      img.alt = `${agencyData[shortName]} Trust Profile`;
      img.onerror = function() {
        this.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23f0f0f0" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="14" fill="%23666"%3EImage not found%3C/text%3E%3C/svg%3E';
      };
      
      const name = document.createElement('div');
      name.className = 'agency-name';
      name.textContent = shortName;
      
      item.appendChild(img);
      item.appendChild(name);
      
      item.addEventListener('click', () => {
        window.open(`${radialFolder}/${shortName}.png`, '_blank');
      });
      
      gallery.appendChild(item);

      // Add to agency names list
      const nameItem = document.createElement('div');
      nameItem.className = 'agency-item';
      nameItem.innerHTML = `<span class="agency-short">${shortName}</span> ‚Äî ${agencyData[shortName]}`;
      agencyNamesDiv.appendChild(nameItem);
    });

    function handleImageError(img, type) {
      const container = img.parentElement;
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error-msg';
      errorDiv.innerHTML = `
        <strong>‚ùå Image not found: ${type}</strong><br><br>
        Looking for: <code>${img.src}</code>
      `;
      container.replaceChild(errorDiv, img);
    }
  </script>
</body>
</html>
